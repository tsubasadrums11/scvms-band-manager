<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>入力フォーム</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <h1>データ入力</h1>

  <label><input type="radio" name="formType" value="expense" checked> 経費入力</label>
  <label><input type="radio" name="formType" value="income"> 売上入力</label>

  <!-- 経費フォーム -->
  <form id="expenseForm">
    <h2>経費入力</h2>
    <label>日付：<input type="date" name="date" required></label>
    <label>メンバー名：
      <select name="member">
        <option>瑠夏</option>
        <option>翔</option>
        <option>魔琥</option>
        <option>晴樹</option>
        <option>翼</option>
      </select>
    </label>
    <label>品目：
      <select name="item">
        <option>チェキフィルム(10枚)</option>
        <option>チェキフィルム(20枚)</option>
        <option>チェキフィルム(5枚)</option>
        <option>Tシャツ</option>
        <option>タオル</option>
        <option>アクスタ</option>
        <option>ビラ</option>
        <option>箱代</option>
        <option>その他(備考に品目記載要)</option>
      </select>
    </label>
    <label>単価：<input type="number" name="price" required></label>
    <label>個数：
      <select name="count">
        <!-- 個数 1〜100 -->
        <!-- 1〜100 optionを静的に記載 -->
        <!-- ↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓ -->
        <option>1</option><option>2</option><option>3</option><option>4</option><option>5</option>
        <option>6</option><option>7</option><option>8</option><option>9</option><option>10</option>
        <option>11</option><option>12</option><option>13</option><option>14</option><option>15</option>
        <option>16</option><option>17</option><option>18</option><option>19</option><option>20</option>
        <option>21</option><option>22</option><option>23</option><option>24</option><option>25</option>
        <option>26</option><option>27</option><option>28</option><option>29</option><option>30</option>
        <option>31</option><option>32</option><option>33</option><option>34</option><option>35</option>
        <option>36</option><option>37</option><option>38</option><option>39</option><option>40</option>
        <option>41</option><option>42</option><option>43</option><option>44</option><option>45</option>
        <option>46</option><option>47</option><option>48</option><option>49</option><option>50</option>
        <option>51</option><option>52</option><option>53</option><option>54</option><option>55</option>
        <option>56</option><option>57</option><option>58</option><option>59</option><option>60</option>
        <option>61</option><option>62</option><option>63</option><option>64</option><option>65</option>
        <option>66</option><option>67</option><option>68</option><option>69</option><option>70</option>
        <option>71</option><option>72</option><option>73</option><option>74</option><option>75</option>
        <option>76</option><option>77</option><option>78</option><option>79</option><option>80</option>
        <option>81</option><option>82</option><option>83</option><option>84</option><option>85</option>
        <option>86</option><option>87</option><option>88</option><option>89</option><option>90</option>
        <option>91</option><option>92</option><option>93</option><option>94</option><option>95</option>
        <option>96</option><option>97</option><option>98</option><option>99</option><option>100</option>
      </select>
    </label>
    <label>備考：<input type="text" name="note"></label>
    <button type="submit">送信</button>
  </form>

  <!-- 売上フォーム -->
  <form id="incomeForm" style="display:none;">
    <h2>売上入力</h2>
    <label>日付：<input type="date" name="date" required></label>
    <label>品目：
      <select name="item">
        <option>Tシャツ</option>
        <option>タオル</option>
        <option>当日チェキ</option>
        <option>2ショット</option>
        <option>アクスタ</option>
        <option>その他チェキ</option>
        <option>その他(備考に記載要)</option>
      </select>
    </label>
    <label>単価：<input type="number" name="price" required></label>
    <label>個数：
      <select name="count">
        <!-- 個数 1〜100（同じく静的に） -->
        <option>1</option><option>2</option><option>3</option><option>4</option><option>5</option>
        <option>6</option><option>7</option><option>8</option><option>9</option><option>10</option>
        <option>11</option><option>12</option><option>13</option><option>14</option><option>15</option>
        <option>16</option><option>17</option><option>18</option><option>19</option><option>20</option>
        <option>21</option><option>22</option><option>23</option><option>24</option><option>25</option>
        <option>26</option><option>27</option><option>28</option><option>29</option><option>30</option>
        <option>31</option><option>32</option><option>33</option><option>34</option><option>35</option>
        <option>36</option><option>37</option><option>38</option><option>39</option><option>40</option>
        <option>41</option><option>42</option><option>43</option><option>44</option><option>45</option>
        <option>46</option><option>47</option><option>48</option><option>49</option><option>50</option>
        <option>51</option><option>52</option><option>53</option><option>54</option><option>55</option>
        <option>56</option><option>57</option><option>58</option><option>59</option><option>60</option>
        <option>61</option><option>62</option><option>63</option><option>64</option><option>65</option>
        <option>66</option><option>67</option><option>68</option><option>69</option><option>70</option>
        <option>71</option><option>72</option><option>73</option><option>74</option><option>75</option>
        <option>76</option><option>77</option><option>78</option><option>79</option><option>80</option>
        <option>81</option><option>82</option><option>83</option><option>84</option><option>85</option>
        <option>86</option><option>87</option><option>88</option><option>89</option><option>90</option>
        <option>91</option><option>92</option><option>93</option><option>94</option><option>95</option>
        <option>96</option><option>97</option><option>98</option><option>99</option><option>100</option>
      </select>
    </label>
    <label>振り分け先：
      <select name="dest">
        <option>瑠夏</option>
        <option>翔</option>
        <option>魔琥</option>
        <option>晴樹</option>
        <option>翼</option>
        <option>バンド</option>
      </select>
    </label>
    <label>備考：<input type="text" name="note"></label>
    <button type="submit">送信</button>
  </form>

  <nav>
    <a href="index.html">トップ</a> |
    <a href="expense-records.html">経費一覧</a> |
    <a href="income-records.html">売上一覧</a>
  </nav>

  <script>
    const apiUrl = 'https://script.google.com/macros/s/AKfycbyuYzWPlstNkHeh8QA5_f9tJuG5Xc6HTT8Oi36p5X5TYDBH5ndQPSeGT2XI5X2caUJmcQ/exec';

    document.querySelectorAll('input[name="formType"]').forEach(r => {
      r.addEventListener('change', () => {
        const isExpense = r.value === 'expense';
        document.getElementById('expenseForm').style.display = isExpense ? 'block' : 'none';
        document.getElementById('incomeForm').style.display = isExpense ? 'none' : 'block';
      });
    });

    document.getElementById('expenseForm').addEventListener('submit', async e => {
      e.preventDefault();
      const data = new FormData(e.target);
      const body = {
        type: 'expense',
        date: data.get('date'),
        member: data.get('member'),
        item: data.get('item'),
        price: data.get('price'),
        count: data.get('count'),
        note: data.get('note')
      };
      await fetch(apiUrl, {
        method: 'POST',
        body: JSON.stringify(body)
      });
      alert('経費データを送信しました！');
      e.target.reset();
    });

    document.getElementById('incomeForm').addEventListener('submit', async e => {
      e.preventDefault();
      const data = new FormData(e.target);
      const body = {
        type: 'income',
        date: data.get('date'),
        item: data.get('item'),
        price: data.get('price'),
        count: data.get('count'),
        dest: data.get('dest'),
        note: data.get('note')
      };
      await fetch(apiUrl, {
        method: 'POST',
        body: JSON.stringify(body)
      });
      alert('売上データを送信しました！');
      e.target.reset();
    });
  </script>
</body>
</html>